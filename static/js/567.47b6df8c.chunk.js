"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[567],{1886:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r,i,a,o,s,u,l=t(5861),c=t(7757),d=t.n(c),p=t(4581),m=t(5218),f=t(9434),b=t(2100),x=t(8172),h=function(n,e){return n.find((function(n){return n.name===e}))},g=function(n,e,t){var r=n.findIndex((function(n){return n.name===t}));return r>0&&r!==e},v=t(4408),y=function(n){return n.trim().replace(/\s+/g," ").toLowerCase()},j=t(1973),w=t(184),k=function(){var n=(0,f.v9)(x.Af),e=(0,f.I0)(),t=function(){var t=(0,l.Z)(d().mark((function t(r,i){var a,o,s,u,l;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.name,o=r.number,s=i.resetForm,u=y(a),l=o.trim(),!h(n,a)){t.next=6;break}return t.abrupt("return",m.Am.error("".concat((0,v.w)(a)," is already in contacts")));case 6:return t.next=8,e((0,b.uK)({name:u,number:l}));case 8:s(),m.Am.success("Contact '".concat((0,v.w)(a),"' has been added successfully"));case 10:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),r={stickerColor:"default",formHeading:"Add contact",submitBtnTxt:"Add",validationSchema:j.iq,isLoadingSelector:x.Rq,onSubmit:t,inputs:[{name:"name",type:"text",initialValue:""},{name:"number",type:"tel",initialValue:""}]};return(0,w.jsx)(p.A,{formObj:r})},Z=t(9439),S=t(168),z=t(2430),A=z.Z.ul(r||(r=(0,S.Z)(["\npadding: 60px 10px 30px 400px;\nfont-family: 'Indie Flower', cursive;\nfont-size: 22px;\nline-height: 31px;\n"]))),C=z.Z.li(i||(i=(0,S.Z)(["\nposition: relative;\npadding-right: 50px;\nwidth: 100%;\ndisplay: flex;\njustify-content: space-between;\nopacity: ",";\n\n&:hover ul{\n    display: block;\n}\n\n&.spinner {\n    justify-content: center;\n    color: transparent;\n}\n\n.name {\n    font-weight: 700;\n    margin-right: 30px;\n    }\n\n.number {\n    padding-right: 30px;\n}"])),(function(n){return n.isDeleted?.5:1})),I=t(6789),D=t(2791),F=t(4217),V=t(6829),N=t(5705),L=t(6856),O=(0,z.Z)(N.l0)(a||(a=(0,S.Z)(["\n    width: 480px;\n    display: flex;\n    align-items: start;\n    margin-bottom: -2px;\n\n    input {\n        padding: 0;\n\n        &:hover, &:focus {\n            outline: 1px dotted #00000066;\n        }\n        &:invalid {\n            border: 1px dotted red;\n        }\n    }\n\n    label:first-of-type {\n        input{\n            margin-right: 20px;\n            font-weight: 700;\n        }\n    }\n    label:last-of-type {\n        input {\n            width: 100%;\n            text-align: right;\n        }\n    }\n\n    input {    \n        background-color: transparent;     \n        width: fit-content;\n        font-family: inherit;\n        font-size: 22px;\n        line-height: 31px;\n        border: none;\n        border-bottom: dotted 1px black;\n        color: ","\n    }\n    \n    button {\n        background-color: transparent;\n        border: none;\n    }\n\n    span {\n        position: absolute;\n        top: 100%;\n        z-index: 1;\n        display: block;\n        padding: 3px;\n        font-family: Roboto;\n        font-size: 12px;\n        line-height: 1;\n        box-shadow: 0 1px 3px grey;\n        background-color: white;\n        color: red;\n    }\n"])),(function(n){return"true"===n.submitting?"green":"inherit"})),U=function(n){var e=n.formObj,t=n.updatedId,r=e.inputs,i=e.isLoadingSelector,a=e.onSubmitSuccess,o=(0,f.I0)(),s=(0,f.v9)(x.Af),u=(0,f.v9)(i),c=(0,v.w)(r.find((function(n){return"name"===n.name})).initialValue),p=r.find((function(n){return"number"===n.name})).initialValue,h=function(){var n=(0,l.Z)(d().mark((function n(e){var r,i,u,l,p;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.name,i=e.number,u=s.findIndex((function(n){return n.name===y(c)})),l=y(r),p=i.trim(),!g(s,u,l)){n.next=6;break}return n.abrupt("return",m.Am.error("".concat(r," is already in contacts")));case 6:return n.next=8,o((0,b.Tk)({id:t,name:l,number:p}));case 8:a();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,w.jsx)(N.J9,{validateOnChange:!0,initialValues:{name:c,number:p},validationSchema:j.iq,onSubmit:h,children:(0,w.jsxs)(O,{submitting:u.toString(),children:[r.map((function(n){var e=n.name,t=n.type;return(0,w.jsxs)("label",{children:[(0,w.jsx)(N.gN,{type:t,name:e,size:18}),(0,w.jsx)(N.Bc,{name:e,component:"span"})]},(0,V.nanoid)())})),(0,w.jsx)("button",{type:"submit",disabled:u,children:(0,w.jsx)(L.Mj8,{color:"green",size:18})})]})})},_=t(6355),q=z.Z.ul(o||(o=(0,S.Z)(["\n    position: absolute;\n    right: 0;\n    display: none;\n"]))),B=z.Z.button(s||(s=(0,S.Z)(["\n    background-color: transparent;\n    border: none;\n    display: none;      \n\n&:first-of-type{    \n    display: inherit;\n    position: absolute;\n    right: 25px;\n}\n\n&:last-of-type{    \n    display: inherit;\n    position: absolute;\n    right: 0;    \n}\n\n&:disabled {\n        svg {\n            fill: grey;\n        }\n    }\n"]))),K=function(n){var e=n.id,t=n.onUpdate,r=n.onDelete,i=n.isUpdated,a=n.isDeleted;return(0,w.jsxs)(q,{children:[(0,w.jsx)(B,{className:"update-btn",type:"button",id:e,onClick:t,disabled:a||i,children:(0,w.jsx)(_.fmQ,{size:20})}),(0,w.jsx)(B,{className:"close-btn",type:"button",id:e,onClick:r,disabled:a,children:(0,w.jsx)(_.zYX,{color:"red",size:20})})]})},M=function(){var n=(0,f.I0)(),e=(0,D.useState)(null),t=(0,Z.Z)(e,2),r=t[0],i=t[1],a=(0,D.useState)(null),o=(0,Z.Z)(a,2),s=o[0],u=o[1],c=(0,D.useState)({name:null,number:null}),p=(0,Z.Z)(c,2),h=p[0],g=p[1],y=(0,f.v9)(x.Af),j=(0,f.v9)(x.DI),k=(0,f.v9)(x.m7),S=(0,f.v9)(F.gs);(0,D.useEffect)((function(){S&&n((0,b.yF)())}),[n,S]);var z=function(){var e=(0,l.Z)(d().mark((function e(t){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.closest("button").id,i(a),r===s&&(u(null),g({name:null,number:null})),e.next=5,n((0,b.GK)(a));case 5:i(null),m.Am.success("Contact has been deleted.");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(n){var e=n.target.closest("button").id,t=y.find((function(n){return n.id===e})),r=t.name,i=t.number;g({name:r,number:i}),u(e)},N={inputs:[{name:"name",type:"text",initialValue:h.name},{name:"number",type:"tel",initialValue:h.number}],onSubmitSuccess:function(){u(null),g({name:null,number:null}),m.Am.success("Contact was updated")},isLoadingSelector:x.De};return(0,w.jsxs)(A,{children:[j.map((function(n){var e=n.id,t=n.name,i=n.number;return(0,w.jsxs)(C,{isDeleted:r===e,children:[s===e?(0,w.jsx)(U,{formObj:N,updatedId:s}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:"name",children:(0,v.w)(t)}),(0,w.jsx)("span",{className:"number",children:i})]}),(0,w.jsx)(K,{id:e,onUpdate:V,onDelete:z,isUpdated:s===e,isDeletedId:r===e})]},e)})),(0,w.jsxs)(C,{className:"spinner",children:[".",(0,w.jsx)(I.Z,{loading:k,margin:3,size:10,color:"blue"})]})]})},R=z.Z.div(u||(u=(0,S.Z)(["\n    position: absolute;\n    top: 100px;\n    left: 400px;\n    width: 42%;\n\n    label {\n        text-align: center;\n        font-weight: 600;\n        font-size: 20px;\n        color: #000000aa;\n\n        svg {\n            position: absolute;\n            top: 28px;\n            left: 8px;\n        }\n    }\n\n    input {\n        display: block;\n        width: 90%;\n        min-width: 70%;\n        margin-top: 6px;\n        padding-left: 34px;\n        line-height: 26px;\n        border: none;\n        border-bottom: 2px solid #11111177;\n        background-color: transparent;\n        font-family: 'Indie Flower', cursive;\n        font-size: 22px;\n        font-weight: 700;\n\n        &:focus, &:hover {\n            background-color: #f5df6f33;\n        }\n    }\n"]))),T=t(4499),Y=function(){var n=(0,f.I0)(),e=(0,f.v9)(x.Af),t=(0,f.v9)(x.AD);return(0,w.jsx)(w.Fragment,{children:e.length>0&&(0,w.jsx)(R,{children:(0,w.jsxs)("label",{children:["Search contact by name",(0,w.jsx)(L.wYS,{size:25}),(0,w.jsx)("input",{type:"text",onChange:function(e){return n((0,T.M)(e.target.value))},value:t})]})})})},E=t(3619);function G(){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(E.C,{text:"Contacts"}),(0,w.jsx)(k,{}),(0,w.jsx)(Y,{}),(0,w.jsx)(M,{})]})}}}]);
//# sourceMappingURL=567.47b6df8c.chunk.js.map