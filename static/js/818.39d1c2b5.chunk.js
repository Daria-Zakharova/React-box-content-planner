"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[818],{6818:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var i,r,a,o,s,u,l=t(5861),c=t(7757),d=t.n(c),p=t(4581),m=t(5218),f=t(9434),b=t(2100),x=t(8172),h=function(n,e){return n.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))},g=t(4408),v=t(1973),y=t(184),j=function(){var n=(0,f.v9)(x.Af),e=(0,f.I0)(),t=function(){var t=(0,l.Z)(d().mark((function t(i,r){var a,o,s;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.name,o=i.number,s=r.resetForm,a=a.toLowerCase().trim(),!h(n,a)){t.next=5;break}return t.abrupt("return",m.Am.error("".concat(a," is already in contacts")));case 5:return t.next=7,e((0,b.uK)({name:a,number:o}));case 7:s(),m.Am.success("Contact '".concat((0,g.w)(a),"' has been added successfully"));case 9:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),i={stickerColor:"default",formHeading:"Add contact",submitBtnTxt:"Add",validationSchema:v.iq,isLoadingSelector:x.Rq,onSubmit:t,inputs:[{name:"name",type:"text",initialValue:""},{name:"number",type:"tel",initialValue:""}]};return(0,y.jsx)(p.A,{formObj:i})},w=t(9439),k=t(168),Z=t(2430),S=Z.Z.ul(i||(i=(0,k.Z)(["\npadding: 60px 10px 30px 400px;\nfont-family: 'Indie Flower', cursive;\nfont-size: 22px;\nline-height: 31px;\n"]))),C=Z.Z.li(r||(r=(0,k.Z)(["\nposition: relative;\npadding-right: 50px;\nwidth: 100%;\ndisplay: flex;\njustify-content: space-between;\nopacity: ",";\n\n&:hover ul{\n    display: block;\n}\n\n&.spinner {\n    justify-content: center;\n    color: transparent;\n}\n\n.name {\n    font-weight: 700;\n    margin-right: 30px;\n    }\n\n.number {\n    padding-right: 30px;\n}"])),(function(n){return n.isDeleted?.5:1})),z=t(6789),A=t(2791),I=t(4217),D=t(6829),F=t(5705),V=t(6856),L=(0,Z.Z)(F.l0)(a||(a=(0,k.Z)(["\n    width: 480px;\n    display: flex;\n    align-items: start;\n    margin-bottom: -2px;\n\n    input {\n        padding: 0;\n\n        &:hover, &:focus {\n            outline: 1px dotted #00000066;\n        }\n        &:invalid {\n            border: 1px dotted red;\n        }\n    }\n\n    label:first-of-type {\n        input{\n            margin-right: 20px;\n            font-weight: 700;\n        }\n    }\n    label:last-of-type {\n        input {\n            width: 100%;\n            text-align: right;\n        }\n    }\n\n    input {    \n        background-color: transparent;     \n        width: fit-content;\n        font-family: inherit;\n        font-size: 22px;\n        line-height: 31px;\n        border: none;\n        border-bottom: dotted 1px black;\n        color: ","\n    }\n    \n    button {\n        background-color: transparent;\n        border: none;\n    }\n\n    span {\n        position: absolute;\n        top: 100%;\n        z-index: 1;\n        display: block;\n        padding: 3px;\n        font-family: Roboto;\n        font-size: 12px;\n        line-height: 1;\n        box-shadow: 0 1px 3px grey;\n        background-color: white;\n        color: red;\n    }\n"])),(function(n){return"true"===n.submitting?"green":"inherit"})),N=function(n){var e=n.formObj,t=n.updatedId,i=e.inputs,r=e.isLoadingSelector,a=e.onSubmitSuccess,o=(0,f.I0)(),s=(0,f.v9)(r),u=(0,g.w)(i.find((function(n){return"name"===n.name})).initialValue),c=i.find((function(n){return"number"===n.name})).initialValue,p=function(){var n=(0,l.Z)(d().mark((function n(e){var i,r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.name,r=e.number,n.next=3,o((0,b.Tk)({id:t,name:i,number:r}));case 3:a();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,y.jsx)(F.J9,{validateOnChange:!0,initialValues:{name:u,number:c},validationSchema:v.iq,onSubmit:p,children:(0,y.jsxs)(L,{submitting:s.toString(),children:[i.map((function(n){var e=n.name,t=n.type;return(0,y.jsxs)("label",{children:[(0,y.jsx)(F.gN,{type:t,name:e,size:18}),(0,y.jsx)(F.Bc,{name:e,component:"span"})]},(0,D.nanoid)())})),(0,y.jsx)("button",{type:"submit",disabled:s,children:(0,y.jsx)(V.Mj8,{color:"green",size:18})})]})})},O=t(6355),U=Z.Z.ul(o||(o=(0,k.Z)(["\n    position: absolute;\n    right: 0;\n    display: none;\n"]))),_=Z.Z.button(s||(s=(0,k.Z)(["\n    background-color: transparent;\n    border: none;\n    display: none;      \n\n&:first-of-type{    \n    display: inherit;\n    position: absolute;\n    right: 25px;\n}\n\n&:last-of-type{    \n    display: inherit;\n    position: absolute;\n    right: 0;    \n}\n\n&:disabled {\n        svg {\n            fill: grey;\n        }\n    }\n"]))),q=function(n){var e=n.id,t=n.onUpdate,i=n.onDelete,r=n.isUpdated,a=n.isDeleted;return(0,y.jsxs)(U,{children:[(0,y.jsx)(_,{className:"update-btn",type:"button",id:e,onClick:t,disabled:a||r,children:(0,y.jsx)(O.fmQ,{size:20})}),(0,y.jsx)(_,{className:"close-btn",type:"button",id:e,onClick:i,disabled:a,children:(0,y.jsx)(O.zYX,{color:"red",size:20})})]})},B=function(){var n=(0,f.I0)(),e=(0,A.useState)(null),t=(0,w.Z)(e,2),i=t[0],r=t[1],a=(0,A.useState)(null),o=(0,w.Z)(a,2),s=o[0],u=o[1],c=(0,A.useState)({name:null,number:null}),p=(0,w.Z)(c,2),h=p[0],v=p[1],j=(0,f.v9)(x.Af),k=(0,f.v9)(x.DI),Z=(0,f.v9)(x.m7),D=(0,f.v9)(I.gs);(0,A.useEffect)((function(){D&&n((0,b.yF)())}),[n,D]);var F=function(){var e=(0,l.Z)(d().mark((function e(t){var a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.closest("button").id,r(a),i===s&&(u(null),v({name:null,number:null})),e.next=5,n((0,b.GK)(a));case 5:r(null),m.Am.success("Contact has been deleted.");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(n){var e=n.target.closest("button").id,t=j.find((function(n){return n.id===e})),i=t.name,r=t.number;v({name:i,number:r}),u(e)},L={inputs:[{name:"name",type:"text",initialValue:h.name},{name:"number",type:"tel",initialValue:h.number}],onSubmitSuccess:function(){u(null),v({name:null,number:null}),m.Am.success("Contact was updated")},isLoadingSelector:x.De};return(0,y.jsxs)(S,{children:[k.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,y.jsxs)(C,{isDeleted:i===e,children:[s===e?(0,y.jsx)(N,{formObj:L,updatedId:s}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"name",children:(0,g.w)(t)}),(0,y.jsx)("span",{className:"number",children:r})]}),(0,y.jsx)(q,{id:e,onUpdate:V,onDelete:F,isUpdated:s===e,isDeletedId:i===e})]},e)})),(0,y.jsxs)(C,{className:"spinner",children:[".",(0,y.jsx)(z.Z,{loading:Z,margin:3,size:10,color:"blue"})]})]})},K=Z.Z.div(u||(u=(0,k.Z)(["\n    position: absolute;\n    top: 100px;\n    left: 400px;\n    width: 42%;\n\n    label {\n        text-align: center;\n        font-weight: 600;\n        font-size: 20px;\n        color: #000000aa;\n\n        svg {\n            position: absolute;\n            top: 28px;\n            left: 8px;\n        }\n    }\n\n    input {\n        display: block;\n        width: 90%;\n        min-width: 70%;\n        margin-top: 6px;\n        padding-left: 34px;\n        line-height: 26px;\n        border: none;\n        border-bottom: 2px solid #11111177;\n        background-color: transparent;\n        font-family: 'Indie Flower', cursive;\n        font-size: 22px;\n        font-weight: 700;\n\n        &:focus, &:hover {\n            background-color: #f5df6f33;\n        }\n    }\n"]))),M=t(4499),R=function(){var n=(0,f.I0)(),e=(0,f.v9)(x.Af),t=(0,f.v9)(x.AD);return(0,y.jsx)(y.Fragment,{children:e.length>0&&(0,y.jsx)(K,{children:(0,y.jsxs)("label",{children:["Search contact by name",(0,y.jsx)(V.wYS,{size:25}),(0,y.jsx)("input",{type:"text",onChange:function(e){return n((0,M.M)(e.target.value))},value:t})]})})})},T=t(3619);function Y(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(T.C,{text:"Contacts"}),(0,y.jsx)(j,{}),(0,y.jsx)(R,{}),(0,y.jsx)(B,{})]})}}}]);
//# sourceMappingURL=818.39d1c2b5.chunk.js.map